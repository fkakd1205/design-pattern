# Proxy Pattern
###### - 필요해지면 만들기
<br />

### 내용 정리

proxy는 '대리인'이라는 의미.

대리인이 client의 요청을 처리하다가 '본인'이 필요한 시점이 되면, '본인'을 생성해서 일을 맡긴다. (위임)

초기화에 시간이 걸리는 기능이 많이 존재하는 대규모 시스템에서 기동 시점에서는 이용하지 않는 기능까지 전부 초기화하면, 어플리케이션의 기동에 시간이 많이 걸리는 문제가 발생.

실제로 그 기능을 사용할 단계가 되어 처음으로 초기화를 하는 편이 좋다.

Proxy 역할을 만들지 않고 RealSubject 클래스 안에 처음부터 지연평가의 처리 기능(필요하면 그때 인스턴스를 생성하는)을 넣을 수 있지만

Proxy 역할과 RealSubject 역할을 분리해서 프로그램의 부품화를 하면, 개별적으로 수정을 할 수 있다. (분할해서 통치해라!)

-> 대리인에게 일을 위임하다가 본인이 필요해지면 그때 본인을 생성하는 패턴.

<br />

### 실습
* [예제](./Proxy_Sample) - 이름있는 프린터. 이름의 설정과 취득 부분은 대린인이, 실제로 프린터를 실행하는 단계는 본인이 처리.
* [문제1](./Proxy_A1) - 예제 프로그램에서 PrinterProxy 클래스가 Printer 클래스를 몰라도 상관없도록 PrintProxy 클래스를 수정.
<br />

### Class UML Diagram
<img src="https://user-images.githubusercontent.com/35367660/120094262-455ef300-c15a-11eb-9fa6-6a0e02a565b6.png" width="600">
<br />    

* Subject(주체) - Proxy와 RealSubject를 동일시하기 위한 인터페이스(API)를 정의.
* Proxy(대리인) - Client 역할의 요구를 할 수 있는 만큼 처리. 처리할 수 없으면 RealSubject 역할에게 위임.
* RealSubject(실제의 주체) - Proxy 역할에서 감당할 수 없는 일이 발생했을 때 등장.('본인')
* Client(의뢰인) - Proxy 패턴을 이용하는 역할.
<br>

### 참고 자료     
* HTTP Proxy ([참고1](https://code-masterjung.tistory.com/53), [참고2](https://velog.io/@honeysuckle/HTTP-%ED%94%84%EB%9D%BD%EC%8B%9CProxy%EC%9D%98-%EA%B0%9C%EB%85%90))
  - HTTP 서버(웹 서버)와 HTTP 클라이언트(웹 브라우저) 사이에서 웹 페이지의 캐싱을 실행하는 소프트웨어
  - 페이지 캐싱에 대해서, 웹 브라우저가 어떤 웹 페이지를 표시할 때 일일이 원격지에 있는 웹 서버에 액세스해서 그 페이지를 취득하는 것이 아니고,
   HTTP Proxy가 캐쉬해서 어떤 페이지를 대신해서 취득한다. 최신 정보가 필요하거나 페이지의 유효기간이 지났을 때 웹 서버에 웹 페이지를 가지러 간다.
  - 웹 브라우저가 Client역할, HTTP Proxy가 Proxy 역할, 웹 서버가 RealSubject 역할.
  - 전송 시간 절약, 외부와 불필요한 연결이 감소.
  - 페이지 캐싱 외에도 성인 컨텐츠 차단, 문서 접근 제어자, 보안 방화벽 등 다양하게 활용됨.
